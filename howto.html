

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to use it &mdash; ForBES 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ForBES 0.1 documentation" href="index.html"/>
        <link rel="next" title="Library of functions" href="library.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ForBES
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">How to use it</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-problem-structure">General problem structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#composite-problems">Composite problems</a></li>
<li class="toctree-l3"><a class="reference internal" href="#separable-problems">Separable problems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#calling-forbes">Calling <code class="docutils literal"><span class="pre">forbes</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="library.html">Library of functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced features</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ForBES</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>How to use it</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/howto.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-use-it">
<span id="howto-rst"></span><h1>How to use it<a class="headerlink" href="#how-to-use-it" title="Permalink to this headline">¶</a></h1>
<p>ForBES consist of the MATLAB routine <code class="docutils literal"><span class="pre">forbes</span></code> taking a problem description
and (optionally) some options, and returning the results of the optimization
process. We will now describe the structure of the problems that ForBES solves,
and how to specify it to the <code class="docutils literal"><span class="pre">forbes</span></code> routine.</p>
<p>Examples on how to use forbes can be found in the <a class="reference external" href="https://github.com/kul-forbes/ForBES/tree/master/demos">demos folder</a>.</p>
<p>You can access the help file of the solver directly from MATLAB in any moment with:</p>
<div class="highlight-python"><div class="highlight"><pre>help forbes
</pre></div>
</div>
<div class="section" id="general-problem-structure">
<span id="problem-structure"></span><h2>General problem structure<a class="headerlink" href="#general-problem-structure" title="Permalink to this headline">¶</a></h2>
<p>The generic formulation of the problems we consider is the following:</p>
<div class="math">
\[\begin{split}\mathrm{minimize}\ &amp; f(Cx+d) + g(z)\\
\mathrm{subject\ to}\ &amp; Ax + Bz = b\end{split}\]</div>
<div class="section" id="composite-problems">
<h3>Composite problems<a class="headerlink" href="#composite-problems" title="Permalink to this headline">¶</a></h3>
<p>Not all the terms need to be present in the above general structure: if <span class="math">\(A, B, b\)</span> in the constraint are
omitted, then it is assumed to be <span class="math">\(x=z\)</span> and the problem takes the composite form</p>
<div class="math">
\[\begin{split}\mathrm{minimize}\ &amp; f(Cx+d) + g(x)\end{split}\]</div>
<p>Here <span class="math">\(f\)</span> is assumed to be smooth (i.e. with Lipschitz continuous
gradient) and twice continuously differentiable. Function <span class="math">\(g\)</span> is any
closed, proper function for which the proximal mapping</p>
<div class="math">
\[\begin{split}\mathrm{prox}_{\gamma g}(x)\ &amp;= \mathrm{argmin}_z \left\{g(z) + \tfrac{1}{2\gamma}\|z-x\|^2\right\}\end{split}\]</div>
<p>is efficiently computable (e.g. it has a closed form, or can be computed numerically).</p>
</div>
<div class="section" id="separable-problems">
<h3>Separable problems<a class="headerlink" href="#separable-problems" title="Permalink to this headline">¶</a></h3>
<p>If <span class="math">\(A, B, b\)</span> are specified, then <span class="math">\(C=I\)</span> and <span class="math">\(d=0\)</span>, and the
problem has the separable form</p>
<div class="math">
\[\begin{split}\mathrm{minimize}\ &amp; f(x) + g(z)\\
\mathrm{subject\ to}\ &amp; Ax + Bz = b\end{split}\]</div>
<p>Here <span class="math">\(f\)</span> (if present) is strongly convex, while g is again proper, closed with easily
computable proximal mapping.
Linear operators <span class="math">\(A,B\)</span> are of appropriate dimension along with vector <span class="math">\(b\)</span>
in the constraint.</p>
</div>
</div>
<div class="section" id="calling-forbes">
<h2>Calling <code class="docutils literal"><span class="pre">forbes</span></code><a class="headerlink" href="#calling-forbes" title="Permalink to this headline">¶</a></h2>
<p>The most generic call to <code class="docutils literal"><span class="pre">forbes</span></code> is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">out</span> <span class="o">=</span> <span class="n">forbes</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">init</span><span class="p">,</span> <span class="n">aff</span><span class="p">,</span> <span class="n">constr</span><span class="p">,</span> <span class="n">opt</span><span class="p">);</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">f</span></code> and <code class="docutils literal"><span class="pre">g</span></code> define the objective of the problem (see <a class="reference internal" href="#functions"><span>Functions</span></a> on how to construct them).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">init</span></code> is the initial value of <span class="math">\(x\)</span> if there are no equality constraints,
or the initial dual variable associated with the constraint <span class="math">\(Ax+Bz=b\)</span> otherwise.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">aff</span></code> is a cell array describing the affine terms composed with <span class="math">\(f\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">aff</span> <span class="o">=</span> <span class="p">{</span><span class="n">C</span><span class="p">,</span> <span class="n">d</span><span class="p">};</span>
</pre></div>
</div>
<p>If omitted or empty, that is <code class="docutils literal"><span class="pre">aff</span> <span class="pre">=</span> <span class="pre">[]</span></code> or <code class="docutils literal"><span class="pre">aff</span> <span class="pre">=</span> <span class="pre">{}</span></code>, then <span class="math">\(C=I\)</span> and <span class="math">\(d=0\)</span>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">constr</span></code> is a cell array describing the linear equality constraints:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">constr</span> <span class="o">=</span> <span class="p">{</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">b</span><span class="p">};</span>
</pre></div>
</div>
<p>If omitted or empty, that is <code class="docutils literal"><span class="pre">constr</span> <span class="pre">=</span> <span class="pre">[]</span></code> or <code class="docutils literal"><span class="pre">constr</span> <span class="pre">=</span> <span class="pre">{}</span></code>, then <span class="math">\(A=I\)</span>, <span class="math">\(B=-I\)</span> and <span class="math">\(b=0\)</span>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">opt</span></code> is a structure containing options on the algorithm to use, termination criteria,
the level of verbosity, and so on. More on this in the <a class="reference internal" href="#options"><span>Options</span></a> section below.</p>
</li>
</ul>
<p>Output <code class="docutils literal"><span class="pre">out</span></code> will contain the results of the optimization process.</p>
</div>
<div class="section" id="functions">
<span id="id1"></span><h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>All the functions involved in the problem can be picked from a library of
functions available in the <a class="reference external" href="https://github.com/kul-forbes/ForBES/tree/master/library">library folder</a>: this contains procedures returning
commonly used functions, specified by a list of parameters if needed. The return
object can directly be fed to <code class="docutils literal"><span class="pre">forbes</span></code> to describe the problem. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>f = logLoss(m); % f is the log-logistic function times a coefficient m
g = indPos(); % g is the indicator function of the nonnegative orthant
out = forbes(f, g);
</pre></div>
</div>
<p>Check out the <a class="reference internal" href="library.html#library-rst"><span>Library of functions</span></a> section for more information on the available
functions and how to use them and the parameters they require, or the documentation
of each of the functions in the <a class="reference external" href="https://github.com/kul-forbes/ForBES/tree/master/library">library folder</a>.</p>
</div>
<div class="section" id="options">
<span id="id2"></span><h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="23%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">What is it</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">opt.tol</span></code></td>
<td>real</td>
<td>Tolerance for optimality</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">opt.maxit</span></code></td>
<td>integer</td>
<td>Maximum number of iterations</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">opt.solver</span></code></td>
<td>string</td>
<td><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'minfbe'</span></code>: only handles cases where <code class="docutils literal"><span class="pre">g</span></code> is convex</li>
<li><code class="docutils literal"><span class="pre">'zerofpr'</span></code>: can handle nonconvex <code class="docutils literal"><span class="pre">g</span></code></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">opt.method</span></code></td>
<td>string</td>
<td><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'bfgs'</span></code>: BFGS quasi-Newton method</li>
<li><code class="docutils literal"><span class="pre">'lbfgs'</span></code>: Limited-memory BFGS</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">opt.linesearch</span></code></td>
<td>string</td>
<td><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'backtracking'</span></code></li>
<li><code class="docutils literal"><span class="pre">'backtracking-nm'</span></code></li>
<li><code class="docutils literal"><span class="pre">'backtracking-armijo'</span></code></li>
<li><code class="docutils literal"><span class="pre">'lemarechal'</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="library.html" class="btn btn-neutral float-right" title="Library of functions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lorenzo Stella, Panagiotis Patrinos.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>