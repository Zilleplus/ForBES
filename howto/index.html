<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to use ForBES &mdash; ForBES documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ForBES documentation" href="../index.html" />
    <link rel="next" title="Library of functions" href="../library/index.html" />
    <link rel="prev" title="Installation" href="../installation.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-use-forbes">
<span id="howto-index"></span><h1>How to use ForBES<a class="headerlink" href="#how-to-use-forbes" title="Permalink to this headline">¶</a></h1>
<p>ForBES consist of the MATLAB routine <code class="docutils literal"><span class="pre">forbes</span></code> taking as input a problem description
and (optionally) some options, and returning the results of the optimization
process. We will now describe the structure of the problems that ForBES solves,
and how to specify it to the <code class="docutils literal"><span class="pre">forbes</span></code> routine.</p>
<p>Examples can be found in the <a class="reference internal" href="../examples/index.html#examples-index"><span>Examples</span></a> section, or in the <a class="reference external" href="https://github.com/kul-forbes/ForBES/tree/master/demos">demos folder</a>.</p>
<p>You can access the help file of the solver directly from MATLAB in any moment with:</p>
<div class="highlight-python"><div class="highlight"><pre>help forbes
</pre></div>
</div>
<div class="section" id="problem-structure">
<span id="id1"></span><h2>Problem structure<a class="headerlink" href="#problem-structure" title="Permalink to this headline">¶</a></h2>
<p>The generic formulation of the problems we consider is the following:</p>
<div class="math">
\[\begin{split}\mathrm{minimize}\ &amp; f(Cx+d) + g(z)\\
\mathrm{subject\ to}\ &amp; Ax + Bz = b\end{split}\]</div>
<p><strong>Composite problems.</strong> Not all the terms need to be present in the above general structure
above: if <span class="math">\(A, B, b\)</span> in the constraint are omitted, then it is assumed to be <span class="math">\(x=z\)</span>
and the problem takes the composite form</p>
<div class="math">
\[\begin{split}\mathrm{minimize}\ &amp; f(Cx+d) + g(x)\end{split}\]</div>
<p>Here <span class="math">\(f\)</span> is assumed to be smooth (i.e. with Lipschitz continuous
gradient) and twice continuously differentiable. Function <span class="math">\(g\)</span> is any
closed, proper function for which the proximal mapping</p>
<div class="math">
\[\begin{split}\mathrm{prox}_{\gamma g}(x)\ &amp;= \mathrm{argmin}_z \left\{g(z) + \tfrac{1}{2\gamma}\|z-x\|^2\right\}\end{split}\]</div>
<p>is efficiently computable (e.g. it has a closed form, or can be computed numerically).</p>
<p><strong>Separable problems.</strong> If <span class="math">\(A, B, b\)</span> are specified, then <span class="math">\(C=I\)</span> and <span class="math">\(d=0\)</span>, and the
problem has the separable form</p>
<div class="math">
\[\begin{split}\mathrm{minimize}\ &amp; f(x) + g(z)\\
\mathrm{subject\ to}\ &amp; Ax + Bz = b\end{split}\]</div>
<p>Here <span class="math">\(f\)</span> (if present) is strongly convex, while g is again proper, closed with easily
computable proximal mapping.
Linear operators <span class="math">\(A,B\)</span> are of appropriate dimension along with vector <span class="math">\(b\)</span>
in the constraint.</p>
</div>
<div class="section" id="calling-forbes">
<h2>Calling <code class="docutils literal"><span class="pre">forbes</span></code><a class="headerlink" href="#calling-forbes" title="Permalink to this headline">¶</a></h2>
<p>The most generic call to <code class="docutils literal"><span class="pre">forbes</span></code> is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">out</span> <span class="o">=</span> <span class="n">forbes</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">init</span><span class="p">,</span> <span class="n">aff</span><span class="p">,</span> <span class="n">constr</span><span class="p">,</span> <span class="n">opt</span><span class="p">);</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">f</span></code> and <code class="docutils literal"><span class="pre">g</span></code> define the objective of the problem (see <a class="reference internal" href="#functions"><span>Functions</span></a> on how to construct them).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">init</span></code> is the initial value of <span class="math">\(x\)</span> if there are no equality constraints,
or the initial dual variable associated with the constraint <span class="math">\(Ax+Bz=b\)</span> otherwise.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">aff</span></code> is a cell array describing the affine terms composed with <span class="math">\(f\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">aff</span> <span class="o">=</span> <span class="p">{</span><span class="n">C</span><span class="p">,</span> <span class="n">d</span><span class="p">};</span>
</pre></div>
</div>
<p>If omitted or empty, that is <code class="docutils literal"><span class="pre">aff</span> <span class="pre">=</span> <span class="pre">[]</span></code> or <code class="docutils literal"><span class="pre">aff</span> <span class="pre">=</span> <span class="pre">{}</span></code>, then <span class="math">\(C=I\)</span> and <span class="math">\(d=0\)</span>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">constr</span></code> is a cell array describing the linear equality constraints:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">constr</span> <span class="o">=</span> <span class="p">{</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">b</span><span class="p">};</span>
</pre></div>
</div>
<p>If omitted or empty, that is <code class="docutils literal"><span class="pre">constr</span> <span class="pre">=</span> <span class="pre">[]</span></code> or <code class="docutils literal"><span class="pre">constr</span> <span class="pre">=</span> <span class="pre">{}</span></code>, then <span class="math">\(A=I\)</span>, <span class="math">\(B=-I\)</span> and <span class="math">\(b=0\)</span>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">opt</span></code> is a structure containing options on the algorithm to use, termination criteria,
the level of verbosity, and so on. More on this in the <a class="reference internal" href="#options"><span>Options</span></a> section below.</p>
</li>
</ul>
<p>Output <code class="docutils literal"><span class="pre">out</span></code> will contain the results of the optimization process.</p>
</div>
<div class="section" id="functions">
<span id="id2"></span><h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>All the functions involved in the problem can be picked from a library of
functions available in the <a class="reference external" href="https://github.com/kul-forbes/ForBES/tree/master/library">library folder</a>: this contains procedures returning
commonly used functions, specified by a list of parameters if needed. The return
object can directly be fed to <code class="docutils literal"><span class="pre">forbes</span></code> to describe the problem. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>f = logLoss(m); % f is the log-logistic function times a coefficient m
g = indPos(); % g is the indicator function of the nonnegative orthant
out = forbes(f, g);
</pre></div>
</div>
<p>Check out the <a class="reference internal" href="../library/index.html#library-index"><span>Library of functions</span></a> section for more information on the available
functions and how to use them and the parameters they require, or the documentation
of each of the functions in the <a class="reference external" href="https://github.com/kul-forbes/ForBES/tree/master/library">library folder</a>.</p>
</div>
<div class="section" id="options">
<span id="id3"></span><h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The following table summarizes the main options of the solver. None of these needs
to be specified, each one will be set to a default value if not provided.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">opt.tol</span></code></td>
<td>real</td>
<td>Tolerance for optimality</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">opt.maxit</span></code></td>
<td>integer</td>
<td>Maximum number of iterations</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">opt.solver</span></code></td>
<td>string</td>
<td><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'minfbe'</span></code>: only handles cases where <code class="docutils literal"><span class="pre">g</span></code> is convex</li>
<li><code class="docutils literal"><span class="pre">'zerofpr'</span></code>: can handle nonconvex <code class="docutils literal"><span class="pre">g</span></code></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">opt.method</span></code></td>
<td>string</td>
<td><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'bfgs'</span></code>: BFGS quasi-Newton method</li>
<li><code class="docutils literal"><span class="pre">'lbfgs'</span></code>: Limited-memory BFGS</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">opt.linesearch</span></code></td>
<td>string</td>
<td><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'backtracking'</span></code>: simple backtracking line-search</li>
<li><code class="docutils literal"><span class="pre">'backtracking-nm'</span></code>: nonmonotone backtracking</li>
<li><code class="docutils literal"><span class="pre">'backtracking-armijo'</span></code>: backtracking enforcing Armijo condition</li>
<li><code class="docutils literal"><span class="pre">'lemarechal'</span></code>: line-search enforcing Wolfe conditions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">ForBES</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">How to use ForBES</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#problem-structure">Problem structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calling-forbes">Calling <code class="docutils literal"><span class="pre">forbes</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../library/index.html">Library of functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Lorenzo Stella, Panagiotis Patrinos.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/howto/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>